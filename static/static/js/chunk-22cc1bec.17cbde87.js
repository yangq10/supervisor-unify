(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-22cc1bec"],{"5ae7":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"white-space":"pre-wrap"}},[t._v(" "+t._s(t.logMsg)+" ")])},n=[],i=(a("b0c0"),a("7424")),r=a("b775");function c(t,e,a){return Object(r["e"])("".concat(i["API_PROXY_PREFIX"],"/program/tailstdoutlog"),r["a"].GET,{server:t,program:e,offset:a})}function s(t,e,a){return Object(r["e"])("".concat(i["API_PROXY_PREFIX"],"/program/tailstderrlog"),r["a"].GET,{server:t,program:e,offset:a})}var f={name:"log",data:function(){return{logMsg:"",timer:""}},created:function(){this.initLogData(0)},methods:{initLogData:function(t){var e=this.$route.query.server,a=this.$route.query.name,o=this.$route.query.type;this.timer&&clearInterval(this.timer),"out"===o?this.getStdLog(e,a,t):this.getErrLog(e,a,t)},getStdLog:function(t,e,a){var o=this;c(t,e,a).then((function(t){0===t.data.code&&(o.logMsg+=t.data.info.detail,t.data.info.end?o.timer=setInterval((function(){o.initLogData(t.data.info.offset)}),5e3):o.initLogData(t.data.info.offset))}))},getErrLog:function(t,e,a){var o=this;s(t,e,a).then((function(t){0===t.data.code&&(o.logMsg+=t.data.info.detail,t.data.info.end?o.timer=setInterval((function(){o.initLogData(t.data.info.offset)}),5e3):o.initLogData(t.data.info.offset))}))}}},u=f,g=a("0c7c"),d=Object(g["a"])(u,o,n,!1,null,"1fd7aec5",null);e["default"]=d.exports},7424:function(t,e){var a="";t.exports={API_PROXY_PREFIX:"".concat(a),LOGIN:"".concat(a,"/login"),ROUTES:"".concat(a,"/routes"),GOODS:"".concat(a,"/goods"),GOODS_COLUMNS:"".concat(a,"/columns")}}}]);