(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-492e0f30"],{"01c3":function(t,e,a){"use strict";var s=a("394f"),i=a.n(s);i.a},"0848":function(t,e,a){},"26cb":function(t,e,a){},"394f":function(t,e,a){},"6d14":function(t,e,a){"use strict";var s=a("26cb"),i=a.n(s);i.a},"80c1":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("common-layout",[s("div",{staticClass:"top"},[s("div",{staticClass:"header"},[s("img",{staticClass:"logo",attrs:{alt:"logo",src:a("4ffd")}}),s("span",{staticClass:"title"},[t._v(t._s(t.systemName))])]),s("div",{staticClass:"desc"},[t._v("Ant Design 是西湖区最具影响力的 Web 设计规范")])]),s("div",{staticClass:"login"},[s("a-form",{attrs:{form:t.form},on:{submit:t.onSubmit}},[s("a-tabs",{staticStyle:{padding:"0 2px"},attrs:{size:"large",tabBarStyle:{textAlign:"center"}}},[s("a-tab-pane",{key:"1",attrs:{tab:"账户密码登录"}},[s("a-alert",{directives:[{name:"show",rawName:"v-show",value:t.error,expression:"error"}],staticStyle:{"margin-bottom":"24px"},attrs:{type:"error",closable:!0,message:t.error,showIcon:""}}),s("a-form-item",[s("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{rules:[{required:!0,message:"请输入账户名",whitespace:!0}]}],expression:"['name', {rules: [{ required: true, message: '请输入账户名', whitespace: true}]}]"}],attrs:{autocomplete:"autocomplete",size:"large",placeholder:"admin"}},[s("a-icon",{attrs:{slot:"prefix",type:"user"},slot:"prefix"})],1)],1),s("a-form-item",[s("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["password",{rules:[{required:!0,message:"请输入密码",whitespace:!0}]}],expression:"['password', {rules: [{ required: true, message: '请输入密码', whitespace: true}]}]"}],attrs:{size:"large",placeholder:"888888",autocomplete:"autocomplete",type:"password"}},[s("a-icon",{attrs:{slot:"prefix",type:"lock"},slot:"prefix"})],1)],1)],1),s("a-tab-pane",{key:"2",attrs:{tab:"手机号登录"}},[s("a-form-item",[s("a-input",{attrs:{size:"large",placeholder:"mobile number"}},[s("a-icon",{attrs:{slot:"prefix",type:"mobile"},slot:"prefix"})],1)],1),s("a-form-item",[s("a-row",{staticStyle:{margin:"0 -4px"},attrs:{gutter:8}},[s("a-col",{attrs:{span:16}},[s("a-input",{attrs:{size:"large",placeholder:"captcha"}},[s("a-icon",{attrs:{slot:"prefix",type:"mail"},slot:"prefix"})],1)],1),s("a-col",{staticStyle:{"padding-left":"4px"},attrs:{span:8}},[s("a-button",{staticClass:"captcha-button",staticStyle:{width:"100%"},attrs:{size:"large"}},[t._v("获取验证码")])],1)],1)],1)],1)],1),s("div",[s("a-checkbox",{attrs:{checked:!0}},[t._v("自动登录")]),s("a",{staticStyle:{float:"right"}},[t._v("忘记密码")])],1),s("a-form-item",[s("a-button",{staticStyle:{width:"100%","margin-top":"24px"},attrs:{loading:t.logging,size:"large",htmlType:"submit",type:"primary"}},[t._v("登录")])],1),s("div",[t._v(" 其他登录方式 "),s("a-icon",{staticClass:"icon",attrs:{type:"alipay-circle"}}),s("a-icon",{staticClass:"icon",attrs:{type:"taobao-circle"}}),s("a-icon",{staticClass:"icon",attrs:{type:"weibo-circle"}}),s("router-link",{staticStyle:{float:"right"},attrs:{to:"/dashboard/workplace"}},[t._v("注册账户")])],1)],1)],1)])},i=[],r=a("5530"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"common-layout"},[a("div",{staticClass:"content"},[t._t("default")],2),a("page-footer",{attrs:{"link-list":t.footerLinks,copyright:t.copyright}})],1)},n=[],c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"footer"},[a("div",{staticClass:"links"},t._l(t.linkList,(function(e,s){return a("a",{key:s,attrs:{target:"_blank",href:e.link?e.link:"javascript: void(0)"}},[e.icon?a("a-icon",{attrs:{type:e.icon}}):t._e(),t._v(t._s(e.name)+" ")],1)})),0),a("div",{staticClass:"copyright"},[t._v(" Copyright"),a("a-icon",{attrs:{type:"copyright"}}),t._v(t._s(t.copyright)+" ")],1)])},l=[],p={name:"PageFooter",props:["copyright","linkList"]},m=p,d=(a("01c3"),a("0c7c")),u=Object(d["a"])(m,c,l,!1,null,"7b4663f1",null),f=u.exports,g=a("5880"),h={name:"CommonLayout",components:{PageFooter:f},computed:Object(r["a"])({},Object(g["mapState"])("setting",["footerLinks","copyright"]))},v=h,y=(a("6d14"),Object(d["a"])(v,o,n,!1,null,"1c265f57",null)),b=y.exports,w=a("0fbc"),k=a("b775"),x=a("89a5"),_=a("96eb"),C=a.n(_),S={name:"Login",components:{CommonLayout:b},data:function(){return{logging:!1,error:"",form:this.$form.createForm(this)}},computed:{systemName:function(){return this.$store.state.setting.systemName}},methods:Object(r["a"])(Object(r["a"])({},Object(g["mapMutations"])("account",["setUser","setPermissions","setRoles"])),{},{onSubmit:function(t){var e=this;t.preventDefault(),this.form.validateFields((function(t){if(!t){e.logging=!0;var a={data:{}},s=e.form.getFieldValue("name"),i=e.form.getFieldValue("password"),r=C.a.mock({name:"@ADMIN",avatar:"@AVATAR",address:"@CITY",position:"@POSITION"}),o=!1;"admin"===s&&"888888"===i?(o=!0,a.data.permissions=[{id:"queryForm",operation:["add","edit"]}],a.data.roles=[{id:"admin",operation:["add","edit","delete"]}]):"test"===s||"888888"===i?(o=!0,a.data.permissions=[{id:"queryForm",operation:["add","edit"]}],a.data.roles=[{id:"test",operation:["add","edit","delete"]}]):o=!1,o?(a.code=0,a.message=C.a.mock("@TIMEFIX").CN+"，欢迎回来",a.data.user=r,a.data.token="Authorization:"+Math.random(),a.data.expireAt=new Date((new Date).getTime()+18e5)):(a.code=-1,a.message="账户名或密码错误（admin/888888 or test/888888）"),e.afterLogin(a)}}))},afterLogin:function(t){if(this.logging=!1,t.code>=0){var e=t.data,a=e.user,s=e.permissions,i=e.roles;this.setUser(a),this.setPermissions(s),this.setRoles(i),Object(k["f"])({token:t.data.token,expireAt:new Date(t.data.expireAt)}),Object(x["d"])(w["default"].routes),this.$router.push("/supervisorList"),this.$message.success(t.message,3)}else this.error=t.message}})},O=S,j=(a("935c"),Object(d["a"])(O,s,i,!1,null,"7aa7c2e5",null)),A=j.exports;e["default"]=A},"935c":function(t,e,a){"use strict";var s=a("0848"),i=a.n(s);i.a}}]);